/*
 * movie_rec.c - auto-generated by CHDK code_gen.
 */
#include "conf.h"

void change_video_tables(int a, int b){
}

void  set_quality(int *x){ // -17 highest; +12 lowest
 if (conf.video_mode) *x=12-((conf.video_quality-1)*(12+17)/(99-1));
}

/*************************************************************/
//** movie_record_task @ 0xFF07854C - 0xFF078704, length=111
void __attribute__((naked,noinline)) movie_record_task() {
asm volatile (
"    STMFD   SP!, {R2-R12,LR} \n"
"    LDR     R11, =0x68E \n"
"    LDR     R7, =0xFF0772A4 \n"
"    LDR     R8, =sub_FF077F30_my \n"  // --> Patched. Old value = 0xFF077F30.
"    LDR     R9, =0xFF075688 \n"
"    LDR     R4, =0x2ED8 \n"
"    LDR     R10, =0x2710 \n"
"    MOV     R5, #1 \n"
"    MOV     R6, #0 \n"

"loc_FF078570:\n"
"    LDR     R0, [R4, #0x24] \n"
"    MOV     R2, #0 \n"
"    ADD     R1, SP, #4 \n"
"    BL      sub_FF02B0F4 /*_ReceiveMessageQueue*/ \n"
"    LDR     R2, =0xFF074F3C \n"
"    LDR     R0, [R4, #0x12C] \n"
"    MOV     R3, R11 \n"
"    MOV     R1, R10 \n"
"    BL      sub_FF02BA14 /*_TakeSemaphoreStrictly*/ \n"
"    LDR     R0, [R4, #0x2C] \n"
"    CMP     R0, #0 \n"
"    LDRNE   R0, [R4, #0xC] \n"
"    CMPNE   R0, #2 \n"
"    LDRNE   R0, [R4, #0x44] \n"
"    CMPNE   R0, #6 \n"
"    BNE     loc_FF0786DC \n"
"    LDR     R0, [SP, #4] \n"
"    LDR     R1, [R0] \n"
"    SUB     R1, R1, #2 \n"
"    CMP     R1, #0xF \n"
"    ADDCC   PC, PC, R1, LSL#2 \n"
"    B       loc_FF0786DC \n"
"    B       loc_FF078670 \n"
"    B       loc_FF07868C \n"
"    B       loc_FF07869C \n"
"    B       loc_FF0786A4 \n"
"    B       loc_FF0786AC \n"
"    B       loc_FF0786B4 \n"
"    B       loc_FF078678 \n"
"    B       loc_FF0786BC \n"
"    B       loc_FF078684 \n"
"    B       loc_FF0786DC \n"
"    B       loc_FF0786CC \n"
"    B       loc_FF0786D4 \n"
"    B       loc_FF0786C4 \n"
"    B       loc_FF078638 \n"
"    B       loc_FF078604 \n"

"loc_FF078604:\n"
"    STR     R6, [R4, #0x40] \n"
"    STR     R6, [R4, #0x30] \n"
"    STR     R6, [R4, #0x34] \n"
"    STRH    R6, [R4, #6] \n"
"    STR     R7, [R4, #0xD8] \n"
"    STR     R8, [R4, #0xF4] \n"
"    STR     R9, [R4, #0xF8] \n"
"    LDR     R0, [R4, #0xC] \n"
"    ADD     R0, R0, #1 \n"
"    STR     R0, [R4, #0xC] \n"
"    MOV     R0, #6 \n"
"    STR     R0, [R4, #0x44] \n"
"    B       loc_FF07865C \n"

"loc_FF078638:\n"
"    STR     R6, [R4, #0x40] \n"
"    STR     R6, [R4, #0x30] \n"
"    STR     R7, [R4, #0xD8] \n"
"    STR     R8, [R4, #0xF4] \n"
"    STR     R9, [R4, #0xF8] \n"
"    LDR     R0, [R4, #0xC] \n"
"    ADD     R0, R0, #1 \n"
"    STR     R0, [R4, #0xC] \n"
"    STR     R5, [R4, #0x44] \n"

"loc_FF07865C:\n"
"    LDR     R2, =0xFF07568C \n"
"    LDR     R1, =0x3F118 \n"
"    LDR     R0, =0xFF0757D4 \n"
"    BL      sub_FF0472B8 \n"
"    B       loc_FF0786DC \n"

"loc_FF078670:\n"
"    BL      sub_FF077AA8 \n"
"    B       loc_FF0786DC \n"

"loc_FF078678:\n"
"    LDR     R1, [R4, #0xF4] \n"
"    BLX     R1 \n"
"    B       loc_FF0786DC \n"

"loc_FF078684:\n"
"    BL      sub_FF078D84 \n"
"    B       loc_FF0786DC \n"

"loc_FF07868C:\n"
"    LDR     R0, [R4, #0x44] \n"
"    CMP     R0, #5 \n"
"    STRNE   R5, [R4, #0x34] \n"
"    B       loc_FF0786DC \n"

"loc_FF07869C:\n"
"    BL      sub_FF076F3C \n"
"    B       loc_FF0786DC \n"

"loc_FF0786A4:\n"
"    BL      sub_FF076C50 \n"
"    B       loc_FF0786DC \n"

"loc_FF0786AC:\n"
"    BL      sub_FF076A0C \n"
"    B       loc_FF0786DC \n"

"loc_FF0786B4:\n"
"    BL      sub_FF0767A0 \n"
"    B       loc_FF0786DC \n"

"loc_FF0786BC:\n"
"    BL      sub_FF075848 \n"
"    B       loc_FF0786DC \n"

"loc_FF0786C4:\n"
"    BL      sub_FF078CAC \n"
"    B       loc_FF0786DC \n"

"loc_FF0786CC:\n"
"    BL      sub_FF0765B8 \n"
"    B       loc_FF0786DC \n"

"loc_FF0786D4:\n"
"    BL      sub_FF07642C \n"
"    STR     R5, [R4, #0x158] \n"

"loc_FF0786DC:\n"
"    LDR     R1, [SP, #4] \n"
"    LDR     R3, =0x6D6 \n"
"    STR     R6, [R1] \n"
"    STR     R3, [SP] \n"
"    LDR     R3, =0xFF074F3C \n"
"    LDR     R0, [R4, #0x28] \n"
"    MOV     R2, R10 \n"
"    BL      sub_FF02BA6C /*_PostMessageQueueStrictly*/ \n"
"    LDR     R0, [R4, #0x12C] \n"
"    BL      _GiveSemaphore \n"
"    B       loc_FF078570 \n"
);
}

/*************************************************************/
//** sub_FF077F30_my @ 0xFF077F30 - 0xFF078548, length=391
void __attribute__((naked,noinline)) sub_FF077F30_my() {
asm volatile (
"    STMFD   SP!, {R4-R11,LR} \n"
"    SUB     SP, SP, #0x64 \n"
"    MOV     R9, #0 \n"
"    LDR     R8, =0x2ED8 \n"
"    STR     R9, [SP, #0x54] \n"
"    STR     R9, [SP, #0x4C] \n"
"    STR     R9, [R8, #0xDC] \n"
"    STR     R9, [R8, #0xE0] \n"
"    STR     R9, [R8, #0xE4] \n"
"    STR     R9, [R8, #0xE8] \n"
"    MOV     R4, R0 \n"
"    STR     R9, [R8, #0xEC] \n"
"    LDR     R0, [R8, #0x44] \n"
"    MOV     R7, R9 \n"
"    CMP     R0, #3 \n"
"    MOVEQ   R0, #4 \n"
"    STREQ   R0, [R8, #0x44] \n"
"    LDR     R0, [R8, #0xD8] \n"
"    MOV     R5, #1 \n"
"    MOV     R6, R9 \n"
"    BLX     R0 \n"
"    LDR     R0, [R8, #0x44] \n"
"    CMP     R0, #6 \n"
"    BEQ     loc_FF077FA4 \n"
"    LDR     R1, [R8, #0xC] \n"
"    CMP     R1, #2 \n"
"    BNE     loc_FF077FCC \n"
"    CMP     R0, #5 \n"
"    BEQ     loc_FF077FDC \n"

"loc_FF077FA4:\n"
"    LDR     R2, =0xFF077E04 \n"
"    LDR     R1, =0xFF077E68 \n"
"    LDR     R0, =0xFF077ECC \n"
"    MOV     R6, #1 \n"
"    ADD     R3, SP, #0x30 \n"
"    BL      sub_FF130F50 \n"
"    LDR     R0, [R8, #0x44] \n"
"    CMP     R0, #4 \n"
"    MOVNE   R5, #0 \n"
"    B       loc_FF077FEC \n"

"loc_FF077FCC:\n"
"    CMP     R0, #4 \n"
"    BEQ     loc_FF077FEC \n"
"    CMP     R1, #2 \n"
"    BNE     loc_FF077FE4 \n"

"loc_FF077FDC:\n"
"    MOV     R0, #0 \n"
"    BL      sub_FF131454 \n"

"loc_FF077FE4:\n"
"    ADD     SP, SP, #0x64 \n"
"    LDMFD   SP!, {R4-R11,PC} \n"

"loc_FF077FEC:\n"
"    LDRH    R0, [R8, #6] \n"
"    CMP     R0, #3 \n"
"    BNE     loc_FF07800C \n"
"    LDR     R0, [R8, #0x6C] \n"
"    LDR     R1, [R8, #0xF0] \n"
"    BL      sub_FF42FF98 \n"
"    CMP     R1, #0 \n"
"    MOVNE   R5, #0 \n"

"loc_FF07800C:\n"
"    LDR     R0, [R8, #0x44] \n"
"    CMP     R0, #6 \n"
"    CMPNE   R0, #1 \n"
"    CMPNE   R0, #3 \n"
"    BNE     loc_FF078050 \n"
"    CMP     R6, #1 \n"
"    CMPEQ   R5, #0 \n"
"    BNE     loc_FF078050 \n"
"    BL      sub_FF131368 \n"
"    LDR     R0, [R8, #0x18] \n"
"    MOV     R1, #0x3E8 \n"
"    BL      _TakeSemaphore \n"
"    CMP     R0, #9 \n"
"    BNE     loc_FF0784C8 \n"
"    MOV     R0, #0x90000 \n"
"    BL      sub_FF098460 /*_HardwareDefect_FW*/ \n"
"    B       loc_FF077FE4 \n"

"loc_FF078050:\n"
"    CMP     R5, #1 \n"
"    MOV     R10, #1 \n"
"    BNE     loc_FF078078 \n"
"    ADD     R3, SP, #0x4C \n"
"    ADD     R2, SP, #0x50 \n"
"    ADD     R1, SP, #0x54 \n"
"    ADD     R0, SP, #0x58 \n"
"    BL      sub_FF1CD948 \n"
"    MOVS    R9, R0 \n"
"    BNE     loc_FF078094 \n"

"loc_FF078078:\n"
"    LDR     R0, [R8, #0x34] \n"
"    CMP     R0, #1 \n"
"    BNE     loc_FF0781D8 \n"
"    LDR     R0, [R8, #0x6C] \n"
"    LDR     R1, [R8, #0x48] \n"
"    CMP     R0, R1 \n"
"    BCC     loc_FF0781D8 \n"

"loc_FF078094:\n"
"    MOV     R0, R9 \n"
"    BL      sub_FF075A28 \n"
"    LDR     R0, [R8, #0xC] \n"
"    CMP     R0, #2 \n"
"    BNE     loc_FF078104 \n"
"    LDR     R0, =0xFF075A1C \n"
"    MOV     R1, #0 \n"
"    BL      sub_FF175EDC \n"
"    LDR     R2, [R8, #0x64] \n"
"    ADD     R3, SP, #0x5C \n"
"    STRD    R2, [SP, #0x28] \n"
"    MOV     R2, #0x18 \n"
"    ADD     R1, SP, #0x30 \n"
"    ADD     R0, SP, #0x10 \n"
"    BL      sub_FF42FC7C \n"
"    LDR     R1, [R8, #0x84] \n"
"    LDR     R2, [R8, #0x88] \n"
"    MVN     R3, #1 \n"
"    ADD     R0, SP, #0x60 \n"
"    STMEA   SP, {R0-R3} \n"
"    MOV     R3, #0 \n"
"    LDR     R0, =0x3F1A4 \n"
"    MOV     R2, R3 \n"
"    MOV     R1, #0x40 \n"
"    BL      sub_FF175E18 \n"
"    B       loc_FF07815C \n"

"loc_FF0780FC:\n"
"    MOV     R1, #1 \n"
"    B       loc_FF0783D0 \n"

"loc_FF078104:\n"
"    BL      sub_FF078C98 \n"
"    LDR     R2, [R8, #0x64] \n"
"    ADD     R3, SP, #0x5C \n"
"    MVN     R1, #1 \n"
"    MOV     R0, #0 \n"
"    ADD     R5, SP, #0x1C \n"
"    STMIA   R5, {R0-R3} \n"
"    LDR     R3, [R4, #0x1C] \n"
"    LDR     R1, [R8, #0x84] \n"
"    LDR     R2, [R8, #0x88] \n"
"    ADD     R0, SP, #0x60 \n"
"    ADD     R4, SP, #0xC \n"
"    STMIA   R4, {R0-R3} \n"
"    MOV     R3, #0 \n"
"    MOV     R1, #0x40 \n"
"    STMEA   SP, {R1,R3} \n"
"    MOV     R2, #0 \n"
"    STR     R3, [SP, #8] \n"
"    LDR     R3, =0x3F1A4 \n"
"    MOV     R1, R2 \n"
"    MOV     R0, R2 \n"
"    BL      sub_FF174218 \n"

"loc_FF07815C:\n"
"    LDR     R0, [R8, #0x18] \n"
"    LDR     R1, [R8, #0x60] \n"
"    BL      _TakeSemaphore \n"
"    CMP     R0, #9 \n"
"    BEQ     loc_FF0780FC \n"
"    LDR     R0, [SP, #0x5C] \n"
"    CMP     R0, #0 \n"
"    BEQ     loc_FF078184 \n"

"loc_FF07817C:\n"
"    MOV     R1, #1 \n"
"    B       loc_FF0783E8 \n"

"loc_FF078184:\n"
"    LDR     R0, [R8, #0xC] \n"
"    MOV     R4, #5 \n"
"    CMP     R0, #2 \n"
"    MOV     R0, #1 \n"
"    BNE     loc_FF0781C4 \n"
"    BL      sub_FF175E8C \n"
"    BL      sub_FF175EB8 \n"
"    BL      sub_FF1313D4 \n"
"    MOV     R0, #0 \n"
"    BL      sub_FF131454 \n"
"    BL      sub_FF048538 \n"
"    STR     R4, [R8, #0x44] \n"
"    BL      sub_FF078C98 \n"
"    BL      sub_FF048594 \n"
"    STR     R10, [R8, #0x44] \n"
"    B       loc_FF0781D0 \n"

"loc_FF0781C4:\n"
"    BL      sub_FF1742C8 \n"
"    BL      sub_FF174378 \n"
"    STR     R4, [R8, #0x44] \n"

"loc_FF0781D0:\n"
"    STR     R7, [R8, #0x34] \n"
"    B       loc_FF077FE4 \n"

"loc_FF0781D8:\n"
"    CMP     R5, #1 \n"
"    BNE     loc_FF0784C0 \n"
"    STR     R10, [R8, #0x38] \n"
"    LDR     R0, [R8, #0x6C] \n"
"    LDR     R11, [R4, #0xC] \n"
"    CMP     R0, #0 \n"
"    LDRNE   R9, [SP, #0x58] \n"
"    LDRNE   R10, [SP, #0x54] \n"
"    BNE     loc_FF078304 \n"
"    LDR     R0, [R8, #0xC] \n"
"    CMP     R0, #2 \n"
"    BNE     loc_FF07825C \n"
"    LDR     R0, =0xFF075A1C \n"
"    MOV     R1, #0 \n"
"    BL      sub_FF175EDC \n"
"    LDR     R2, [R8, #0x64] \n"
"    ADD     R3, SP, #0x5C \n"
"    STRD    R2, [SP, #0x28] \n"
"    MOV     R2, #0x18 \n"
"    ADD     R1, SP, #0x30 \n"
"    ADD     R0, SP, #0x10 \n"
"    BL      sub_FF42FC7C \n"
"    LDR     R1, [R8, #0x84] \n"
"    LDR     R2, [R8, #0x88] \n"
"    MVN     R3, #0 \n"
"    ADD     R0, SP, #0x60 \n"
"    STMEA   SP, {R0-R3} \n"
"    LDR     R0, [SP, #0x58] \n"
"    LDR     R1, [SP, #0x54] \n"
"    LDR     R2, [SP, #0x50] \n"
"    LDR     R3, [SP, #0x4C] \n"
"    BL      sub_FF175E18 \n"
"    B       loc_FF0782B0 \n"

"loc_FF07825C:\n"
"    LDR     R0, [R4, #0x20] \n"
"    LDR     R2, [R8, #0x64] \n"
"    ADD     R3, SP, #0x5C \n"
"    MVN     R1, #0 \n"
"    ADD     R9, SP, #0x1C \n"
"    STMIA   R9, {R0-R3} \n"
"    LDR     R3, [R4, #0x1C] \n"
"    LDR     R1, [R8, #0x84] \n"
"    LDR     R2, [R8, #0x88] \n"
"    ADD     R0, SP, #0x60 \n"
"    ADD     R9, SP, #0xC \n"
"    STMIA   R9, {R0-R3} \n"
"    LDR     R1, [SP, #0x50] \n"
"    LDR     R2, [SP, #0x54] \n"
"    LDR     R3, [SP, #0x4C] \n"
"    STMFA   SP, {R1,R3} \n"
"    STR     R2, [SP] \n"
"    LDMIB   R4, {R0,R1} \n"
"    LDR     R3, [SP, #0x58] \n"
"    MOV     R2, R11 \n"
"    BL      sub_FF174218 \n"

"loc_FF0782B0:\n"
"    LDR     R0, [R8, #0x18] \n"
"    LDR     R1, [R8, #0x60] \n"
"    BL      _TakeSemaphore \n"
"    CMP     R0, #9 \n"
"    BEQ     loc_FF0780FC \n"
"    LDR     R0, [SP, #0x5C] \n"
"    CMP     R0, #0 \n"
"    BNE     loc_FF07817C \n"
"    LDR     R0, [R8, #0xC] \n"
"    CMP     R0, #2 \n"
"    MOV     R0, #1 \n"
"    BNE     loc_FF0782E8 \n"
"    BL      sub_FF175E8C \n"
"    B       loc_FF0782EC \n"

"loc_FF0782E8:\n"
"    BL      sub_FF1742C8 \n"

"loc_FF0782EC:\n"
"    STR     R7, [R8, #0xE8] \n"
"    LDR     R0, [SP, #0x60] \n"
"    LDR     R1, [SP, #0x58] \n"
"    ADD     R9, R1, R0 \n"
"    LDR     R1, [SP, #0x54] \n"
"    SUB     R10, R1, R0 \n"

"loc_FF078304:\n"
"    LDR     R0, [R8, #0xC] \n"
"    CMP     R0, #2 \n"
"    BNE     loc_FF078368 \n"
"    LDR     R0, =0xFF0759C0 \n"
"    MOV     R1, #0 \n"
"    BL      sub_FF175EDC \n"
"    LDR     R2, [R8, #0x64] \n"
"    ADD     R3, SP, #0x5C \n"
"    STRD    R2, [SP, #0x28] \n"
"    MOV     R2, #0x18 \n"
"    ADD     R1, SP, #0x30 \n"
"    ADD     R0, SP, #0x10 \n"
"    BL      sub_FF42FC7C \n"
"    LDR     R1, [R8, #0x84] \n"
"    LDR     R2, [R8, #0x88] \n"
"    LDR     R3, [R8, #0x68] \n"
"    ADD     R0, SP, #0x60 \n"
"    STMEA   SP, {R0-R3} \n"
"    LDR     R2, [SP, #0x50] \n"
"    LDR     R3, [SP, #0x4C] \n"
"    MOV     R1, R10 \n"
"    MOV     R0, R9 \n"
"    BL      sub_FF175E18 \n"
"    BL      sub_FF131368 \n"
"    B       loc_FF0783B8 \n"

"loc_FF078368:\n"
"    LDR     R0, [R4, #0x20] \n"
"    LDR     R1, [R8, #0x68] \n"
"    LDR     R2, [R8, #0x64] \n"
"    ADD     R3, SP, #0x5C \n"
"    ADD     R12, SP, #0x1C \n"
"    STMIA   R12, {R0-R3} \n"
"    LDR     R3, [R4, #0x1C] \n"
"    LDR     R1, [R8, #0x84] \n"
"    LDR     R2, [R8, #0x88] \n"
"    ADD     R0, SP, #0x60 \n"
"    ADD     R12, SP, #0xC \n"
"    STMIA   R12, {R0-R3} \n"
"    LDR     R2, [SP, #0x50] \n"
"    LDR     R3, [SP, #0x4C] \n"
"    STMFA   SP, {R2,R3} \n"
"    STR     R10, [SP] \n"
"    LDMIB   R4, {R0,R1} \n"
"    MOV     R3, R9 \n"
"    MOV     R2, R11 \n"
"    BL      sub_FF174218 \n"

"loc_FF0783B8:\n"
"    LDR     R0, [R8, #0x18] \n"
"    LDR     R1, [R8, #0x60] \n"
"    BL      _TakeSemaphore \n"
"    CMP     R0, #9 \n"
"    BNE     loc_FF0783D8 \n"
"    MOV     R1, #0 \n"

"loc_FF0783D0:\n"
"    MOV     R0, #0x90000 \n"
"    B       loc_FF0783EC \n"

"loc_FF0783D8:\n"
"    LDR     R0, [SP, #0x5C] \n"
"    CMP     R0, #0 \n"
"    BEQ     loc_FF0783F4 \n"
"    MOV     R1, #0 \n"

"loc_FF0783E8:\n"
"    MOV     R0, #0xA0000 \n"

"loc_FF0783EC:\n"
"    BL      sub_FF075934 \n"
"    B       loc_FF077FE4 \n"

"loc_FF0783F4:\n"
"    LDR     R0, [R8, #0xC] \n"
"    CMP     R0, #2 \n"
"    MOV     R0, #0 \n"
"    BNE     loc_FF07840C \n"
"    BL      sub_FF175E8C \n"
"    B       loc_FF078410 \n"

"loc_FF07840C:\n"
"    BL      sub_FF1742C8 \n"

"loc_FF078410:\n"
"    LDR     R0, [R8, #0x158] \n"
"    CMP     R0, #1 \n"
"    BNE     loc_FF078498 \n"
"    LDR     R0, [R8, #0x68] \n"
"    LDR     R1, [R8, #0x64] \n"
"    BL      sub_FF42FF98 \n"
"    MOVS    R9, R1 \n"
"    STREQ   R7, [R8, #0x158] \n"
"    BEQ     loc_FF078498 \n"
"    LDR     R4, [SP, #0x58] \n"
"    MOV     R2, #4 \n"
"    ADD     R1, R4, #4 \n"
"    ADD     R0, SP, #0x48 \n"
"    BL      sub_FF42FA94 \n"
"    LDR     R0, [SP, #0x48] \n"
"    MOV     R1, R0, LSR#24 \n"
"    AND     R2, R0, #0xFF0000 \n"
"    ORR     R1, R1, R2, LSR#8 \n"
"    AND     R2, R0, #0xFF00 \n"
"    ORR     R1, R1, R2, LSL#8 \n"
"    ORR     R0, R1, R0, LSL#24 \n"
"    BIC     R0, R0, #0x1E000 \n"
"    ORR     R0, R0, R9, LSL#13 \n"
"    MOV     R1, R0, LSR#24 \n"
"    AND     R2, R0, #0xFF0000 \n"
"    ORR     R1, R1, R2, LSR#8 \n"
"    AND     R2, R0, #0xFF00 \n"
"    ORR     R1, R1, R2, LSL#8 \n"
"    ORR     R0, R1, R0, LSL#24 \n"
"    STR     R0, [SP, #0x48] \n"
"    MOV     R2, #4 \n"
"    ADD     R1, SP, #0x48 \n"
"    ADD     R0, R4, #4 \n"
"    BL      sub_FF42FA94 \n"

"loc_FF078498:\n"
"    LDR     R0, [SP, #0x58] \n"
"    LDR     R1, [SP, #0x60] \n"
"    BL      sub_FF1CDBDC \n"
"    LDR     R0, [R8, #0x68] \n"
"    LDR     R3, =0x2F60 \n"
"    ADD     R1, R0, #1 \n"
"    STR     R1, [R8, #0x68] \n"
"    LDR     R0, [SP, #0x60] \n"
"    SUB     R2, R3, #4 \n"
"    BL      sub_FF1CA314 \n"

"    LDR     R0, =0x8664\n" // +++++++++
"    BL      set_quality\n" // +++++++++


"loc_FF0784C0:\n"
"    CMP     R6, #1 \n"
"    BNE     loc_FF0784D4 \n"

"loc_FF0784C8:\n"
"    BL      sub_FF1313D4 \n"
"    MOV     R0, #1 \n"
"    BL      sub_FF131454 \n"

"loc_FF0784D4:\n"
"    CMP     R5, #1 \n"
"    LDRNEH  R0, [R8, #6] \n"
"    CMPNE   R0, #3 \n"
"    BNE     loc_FF077FE4 \n"
"    LDR     R0, [R8, #0x6C] \n"
"    ADD     R0, R0, #1 \n"
"    STR     R0, [R8, #0x6C] \n"
"    LDRH    R1, [R8, #6] \n"
"    CMP     R1, #3 \n"
"    LDRNE   R1, [R8, #0x54] \n"
"    LDREQ   R1, =0x3E9 \n"
"    MUL     R0, R1, R0 \n"
"    LDRNE   R1, [R8, #0x50] \n"
"    LDREQ   R1, =0x1770 \n"
"    BL      sub_FF42FF98 \n"
"    MOV     R4, R0 \n"
"    BL      sub_FF1CE270 \n"
"    LDR     R0, [R8, #0x8C] \n"
"    CMP     R0, R4 \n"
"    BNE     loc_FF078530 \n"
"    LDR     R0, [R8, #0x3C] \n"
"    CMP     R0, #1 \n"
"    BNE     loc_FF078544 \n"

"loc_FF078530:\n"
"    LDR     R1, [R8, #0xBC] \n"
"    MOV     R0, R4 \n"
"    BLX     R1 \n"
"    STR     R4, [R8, #0x8C] \n"
"    STR     R7, [R8, #0x3C] \n"

"loc_FF078544:\n"
"    STR     R7, [R8, #0x38] \n"
"    B       loc_FF077FE4 \n"
);
}
